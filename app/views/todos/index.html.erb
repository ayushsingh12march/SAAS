<main class="TodoPageMain">
  <article>
    <h1 class="TodoPage-title">My Todo-list</h1>
    <section class="AddTodo">
      <%= form_with(url: "/todos", method: "post") do %>
        <%= text_field_tag :todo_text,nil,class: "AddTodo-text",placeholder: "What's next" %>
        <%= date_field("due", "date", min: "1999-05-20",class: "AddTodo-date") %>
        <%= button_tag(type: "submit",class: "AddTodo-btn") do%>Add<%end%>
      <% end %>
    </section>
    <%todos = Todo.overdue%>
    <%= render partial: "todo-section", locals: {
      section_title: "Overdue",
      todos: todos,
      todos_completed: todos.completed.count,
      total_todos: todos.count,
      show_due_date: true
    }%>
    <%todos = Todo.due_today%>
    <%= render partial: "todo-section", locals: {
      section_title: "Due Today",
      todos: todos,
      todos_completed: todos.completed.count,
      total_todos: todos.count,
      show_due_date: false
    }%>
    <%todos = Todo.due_later%>
    <%= render partial: "todo-section", locals: {
      section_title: "Due Later",
      todos: todos,
      todos_completed: todos.completed.count,
      total_todos: todos.count,
      show_due_date: true
    }%>

  </article>
</main>
